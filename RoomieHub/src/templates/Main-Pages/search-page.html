{% extends "Layouts/main-layout.html" %}
 
<!-- Write all the css link tags inside the css block -->
{% block css %}
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='CSS/index.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='CSS/search.css') }}">
    <style>
        .container-search {
            border-top-color: #f9004d;
            border-top-style: solid;
            border-top-width: 7px;
        }
        .form-container {
            text-align: center;
            margin-bottom: 20px;
        }
        .search-btn {
            margin-top: 20px;
        }
    </style>
{%endblock css %}
 
<!-- Write only the title(without the title tag inside the title block) -->
{% block title %} RoomieHub - Search {% endblock title %}
 
<!-- Write all the main body content inside the content block -->
{% block content %}
    <div class="form-container">
        <form action="" method="POST" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            {{ form.csrf_token }}
            <fieldset>
                <div class="form-group">
                    {{ form.username.label(class="username-label") }}
                    {% if form.username.errors %}
                        {{ form.username(class="username-textbox is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.username.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.username(class="username-textbox") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.year.label(class="year-label") }}
                    {% if form.year.errors %}
                        {{ form.year(class="year-radio is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.year.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.year(class="year-radio") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.course.label(class="course-label") }}
                    {% if form.course.errors %}
                        {{ form.course(class="course-radio is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.course.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.course(class="course-radio") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.gender.label(class="gender-label") }}
                    {% if form.gender.errors %}
                        {{ form.gender(class="gender-radio is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.gender.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.gender(class="gender-radio") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.preferred_hostel.label(class="preferred-hostel-label") }}
                    {% if form.preferred_hostel.errors %}
                        {{ form.preferred_hostel(class="preferred_hostel-dropdown is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.preferred-hostel.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.preferred_hostel(class="preferred-hostel-dropdown") }}
                    {% endif %}
                </div>
            </fieldset>
            <div class="form-group">
                {{ form.submit(class="search-btn") }}
            </div>
        </form>
    </div>
    {% if display == 't' %}
        {% if users %}
            <div class="cards">
                {% for user in users %}
                <a href="{{ url_for('open_user_profile', username=user[2]) }}">
                    <div class="card">
                        <img class="search-img7" src="{{ url_for('static', filename='Media/profile_pictures/' + user[7]) }}" alt="">
                        <h2>{{ user[2] }}</h2>
                        <h2>{{ user[1] }}</h2>
                        <h2>{{ user[15] }}</h2>
                    </div>
                </a>
                {% endfor %}
            </div>
        {% else %}
            <div class="empty">
                <h1>No Search Results Found</h1>
            </div>
        {% endif %}
    {% endif %}
{% endblock content %}
 
<!-- Write all the script tags inside the js block -->
{% block js %}
 
{% endblock js %}